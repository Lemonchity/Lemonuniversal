--https://docs.sirius.menu/rayfield
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "LMOn",
   Icon = 0, -- Use 0 for no icon
   LoadingTitle = "loading...",
   LoadingSubtitle = "by LemonHubOffical",
   ShowText = "Rayfield", -- for mobile users to unhide rayfield, change if you'd like
   Theme = "Default",

   ToggleUIKeybind = "K",

   DisableRayfieldPrompts = false,
   DisableBuildWarnings = false,

   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "LMOn Hub"
   },

   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },

   KeySystem = true,
   KeySettings = {
      Title = "key",
      Subtitle = "Key System",
      Note = "Key is 1",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"1"}
   }
})

local Tab = Window:CreateTab("Tab Example", 4483362458) -- Title, Image

Rayfield:Notify({
   Title = "Notification",
   Content = "ty for choosing LMOn!",
   Duration = 6.5,
   Image = "home",
})


local Toggle = Tab:CreateToggle({
   Name = "Silent aim",
   CurrentValue = false,
   Flag = "Toggle1",
   Callback = function(Value)
--[[
	WARNING: Heads up! This script has not been verified by ScriptBlox. Use at your own risk!
]]
getgenv().FOV = 140 
getgenv().Enabled = true

local players = game:GetService("Players")
local replicatedStorage = game:GetService("ReplicatedStorage")

local localPlayer = players.LocalPlayer
local currentCamera = workspace.CurrentCamera

local raycastModule = require(replicatedStorage.Events.Modules.RaycastModule)

local fovCircle =  Drawing.new("Circle")
fovCircle.Position = currentCamera.ViewportSize * 0.5
fovCircle.Visible = true
fovCircle.Color = Color3.fromRGB(255, 255, 255)
fovCircle.Radius = getgenv().FOV
fovCircle.Transparency = 1
fovCircle.Filled = false
fovCircle.NumSides = 0

local function getClosestPlayer()
    local closest = nil
    local closestDistance = math.huge

    for _, player in players:GetPlayers() do
        if player == localPlayer or (player.Team == localPlayer.Team and localPlayer.Team ~= nil) then continue end

        local character = player.Character
        if not character then continue end

        local rootPart = character:FindFirstChild("HumanoidRootPart")
        if not rootPart then continue end

        local screenPosition, onScreen = currentCamera:WorldToViewportPoint(rootPart.Position)
        if not onScreen then continue end

        local screenDistance = (Vector2.new(screenPosition.X, screenPosition.Y) -  currentCamera.ViewportSize * 0.5).Magnitude

        if screenPosition.Z > 0 and screenDistance < getgenv().FOV and screenDistance < closestDistance then
            closest = character
            closestDistance = screenDistance
        end
    end

    return closest
end

for i, func in raycastModule do
    if not typeof(func) == "function" then continue end

    raycastModule[i] = function(...)
        if not getgenv().Enabled then return func(...) end

        local closestPlayer = getClosestPlayer()
        if not closestPlayer then return func(...) end

        return closestPlayer.Head, closestPlayer.Head.Position, Vector3.zero
    end
end

      print(Value)
   end,
})







